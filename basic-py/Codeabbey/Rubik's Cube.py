loop = int(input())
U = ['0', '0', '0', '0', '0', '0', '0', '0', '0', '0']
D = ['0', '0', '0', '0', '0', '0', '0', '0', '0', '0']
R = ['0', '0', '0', '0', '0', '0', '0', '0', '0', '0']
L = ['0', '0', '0', '0', '0', '0', '0', '0', '0', '0']
F = ['0', '7', '8', '9', '4', '5', '6', '1', '2', '3']
B = ['0', '0', '0', '0', '0', '0', '0', '0', '0', '0']

def rotate_up():
    U[1], U[3] = U[3], U[1]
    U[1], U[9] = U[9], U[1]
    U[1], U[7] = U[7], U[1]
    U[2], U[6] = U[6], U[2]
    U[2], U[8] = U[8], U[2]
    U[2], U[4] = U[4], U[2]
    F[1], L[1] = L[1], F[1]
    F[1], B[1] = B[1], F[1]
    F[1], R[1] = R[1], F[1]
    F[2], L[2] = L[2], F[2]
    F[2], B[2] = B[2], F[2]
    F[2], R[2] = R[2], F[2]
    F[3], L[3] = L[3], F[3]
    F[3], B[3] = B[3], F[3]
    F[3], R[3] = R[3], F[3]
def rotate_down():
    D[1], D[3] = D[3], D[1]
    D[2], D[6] = D[6], D[2]
    D[1], D[9] = D[9], D[1]
    D[2], D[8] = D[8], D[2]
    D[1], D[7] = D[7], D[1]
    D[2], D[4] = D[4], D[2]
    F[7], R[7] = R[7], F[7]
    F[7], B[7] = B[7], F[7]
    F[7], L[7] = L[7], F[7]
    F[8], R[8] = R[8], F[8]
    F[8], B[8] = B[8], F[8]
    F[8], L[8] = L[8], F[8]
    F[9], R[9] = R[9], F[9]
    F[9], B[9] = B[9], F[9]
    F[9], L[9] = L[9], F[9]
def rotate_right():
    D[3], F[3] = F[3], D[3]
    D[6], F[6] = F[6], D[6]
    D[9], F[9] = F[9], D[9]
    D[3], U[3] = U[3], D[3]
    D[6], U[6] = U[6], D[6]
    D[9], U[9] = U[9], D[9]
    D[3], B[7] = B[7], D[3]
    D[6], B[4] = B[4], D[6]
    D[9], B[1] = B[1], D[9]
    R[1], R[3] = R[3], R[1]
    R[2], R[6] = R[6], R[2]
    R[1], R[9] = R[9], R[1]
    R[2], R[8] = R[8], R[2]
    R[1], R[7] = R[7], R[1]
    R[2], R[4] = R[4], R[2]
def rotate_left():
    U[1], F[1] = F[1], U[1]
    U[4], F[4] = F[4], U[4]
    U[7], F[7] = F[7], U[7]
    U[1], D[1] = D[1], U[1]
    U[4], D[4] = D[4], U[4]
    U[7], D[7] = D[7], U[7]
    U[1], B[9] = B[9], U[1]
    U[4], B[6] = B[6], U[4]
    U[7], B[3] = B[3], U[7]
    L[1], L[3] = L[3], L[1]
    L[2], L[6] = L[6], L[2]
    L[1], L[9] = L[9], L[1]
    L[2], L[8] = L[8], L[2]
    L[1], L[7] = L[7], L[1]
    L[2], L[4] = L[4], L[2]
def rotate_front():
    U[7], R[1] = R[1], U[7]
    U[8], R[4] = R[4], U[8]
    U[9], R[7] = R[7], U[9]
    U[7], D[3] = D[3], U[7]
    U[8], D[2] = D[2], U[8]
    U[9], D[1] = D[1], U[9]
    U[7], L[9] = L[9], U[7]
    U[8], L[6] = L[6], U[8]
    U[9], L[3] = L[3], U[9]
    F[1], F[3] = F[3], F[1]
    F[2], F[6] = F[6], F[2]
    F[1], F[9] = F[9], F[1]
    F[2], F[8] = F[8], F[2]
    F[1], F[7] = F[7], F[1]
    F[2], F[4] = F[4], F[2]
def rotate_back():
    D[7], R[9] = R[9], D[7]
    D[8], R[6] = R[6], D[8]
    D[9], R[3] = R[3], D[9]
    D[7], U[3] = U[3], D[7]
    D[8], U[2] = U[2], D[8]
    D[9], U[1] = U[1], D[9]
    D[7], L[1] = L[1], D[7]
    D[8], L[4] = L[4], D[8]
    D[9], L[7] = L[7], D[9]
    B[1], B[3] = B[3], B[1]
    B[2], B[6] = B[6], B[2]
    B[1], B[9] = B[9], B[1]
    B[2], B[8] = B[8], B[2]
    B[1], B[7] = B[7], B[1]
    B[2], B[4] = B[4], B[2]

step = [str(x) for x in input().split()]
for i in step:
    if i == 'U':
        rotate_up()
    if i == 'D':
        rotate_down()
    if i == 'R':
        rotate_right()
    if i == 'L':
        rotate_left()
    if i == 'F':
        rotate_front()
    if i == 'B':
        rotate_back()
print(U)
for k in range(0, 11):
    if U == k:
        print("U", end=' ')
    if D == k:
        print("D", end=' ')
    if R == k:
        print("R", end=' ')
    if L == k:
        print("L", end=' ')
    if F == k:
        print("F", end=' ')
    if B == k:
        print("B", end=' ')